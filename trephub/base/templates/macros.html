{% macro paginate(list_url, page_obj, paginator) -%}
  {% if paginator.num_pages > 1 %}
    <div class="pagination">
      <ul>
        {% if page_obj.has_previous() %}
          <li><a href="{{ list_url|urlparams(page=page_obj.previous_page_number()) }}">&laquo;</a></li>
        {% endif %}

        {% for page_num in range(1, paginator.num_pages + 1) %}
          <li {{ page_num|ifeq(page_obj.number, 'class="active"') }}><a href="{{ list_url|urlparams(page=page_num) }}">{{ page_num }}</a></li>
        {% endfor %}

        {% if page_obj.has_next() %}
          <li><a href="{{ list_url|urlparams(page=page_obj.next_page_number()) }}">&raquo;</a></li>
        {% endif %}
      </ul>
    </div>
  {% endif %}
{%- endmacro %}
